# At-The-Arcade Flex _(layout for Attract-Mode front end)_
## Overview
This layout theoretically supports all resolutions and aspect ratios, but only the common ones have been tested,
and it is possible that some features or settings combinations have not been adequately tested. Please use the
Attract-Mode forums and let me @tsaylor know if you encounter problems.

Design and Code by tsaylor and Yaron2019
- http://attractmode.org
- [Themes Forum page](http://forum.attractmode.org/index.php?topic=3979.0)
- Based on Yaron2019's [At-The-Arcade Multi-Cab](http://forum.attractmode.org/index.php?topic=3874.0) (with many modifications to support multiple resolutions and pinball cabinets)  
- CRT screen glow shader by @zpaolo11x
- Letters and 'System games count' code adapted from pcca theme 
- CD Player code by Sony

## Instructions
### Short version for users who know Attract-Mode

Install layout and copy dependencies (gtc, gtc-kb, gtc-pas)

Specifically:
1. Copy the 'At-The-Arcade Flex' folder to the Attract-Mode `$HOME/layouts` folder 
2. If you don't already have it, copy the `gtc-common` folder to attract folder (where the attract.exe file is).  **Note: this will be moving into the gtc module**
3. Install dependencies by executing the installation script (.sh or ps1)
4. Source and download all your required artwork (see next section for those applicable)
5. Launch Attract-Mode and assign the 'At-The-Arcade Flex' theme (layout) as the display layout for the desired configured emulators

### Detailed version
#### Stage 1: Prepare the media for the emulated system
The following assumes you already have the mame emulator and roms configured in Attract-Mode.  See [here](https://github.com/mickelson/attract/blob/v2.6.1/Readme.md) for more details. 

#### Artwork
This layout uses:
* wheel, snap, marquee, bezels, flyer, fanart, cabinets

Download the media you need from emumovies.com (wheel logos, snaps (game videos), cart art, box art, marquees, bezels, flyers, fanart, etc)

#### Configure Artwork Paths
The layout paths are configured in the emulator cfg.

For each system, Attract-Mode has an emulator cfg file located in `$HOME/emulators`.  The layout paths are configured in these files.

In our example it will be: C:\attract\emulators\mame.cfg
* You can edit this file with notepad or from within Attract-Mode's menu system. 
```
# Generated by Attract-Mode v2.6.1
#
executable           C:/attract/systems/mame/mame64.exe
args                 [name]
rompath              C:/attract/systems/mame/roms
romext               .zip;.chd
system               Arcade
info_source          listxml
exit_hotkey          Escape
artwork    wheel           C:/attract/menu-art/mame/wheel
artwork    snap            C:/attract/menu-art/mame/snap
artwork    boxart          C:/attract/menu-art/mame/boxart
artwork    cartart         C:/attract/menu-art/mame/cartart
artwork    marquee         C:/attract/menu-art/mame/marquee
artwork    bezels          C:/attract/menu-art/mame/bezels
artwork    flyer           C:/attract/menu-art/mame/flyer
artwork    fanart          C:/attract/menu-art/mame/fanart
artwork    cabinets        C:/attract/menu-art/mame/cabinets

#[optionally, if using pinball, specify a "pincabs" location]
# artwork    pincabs         C:/attract/menu-art/Pinball FX3/cabinet
```
* Add those you might be missing
* Copy the artwork to each respective folder (wheel logos to 'wheel', snap videos to 'snap', cabinets to 'cabinets', etc).

#### Stage 2: Set up the layout as your themes of choice
1. Copy the 'At-The-Arcade Flex' folder to your attract layouts folder 
2. If you don't already have it, copy the 'gtc-common' folder to your main attract folder (where the attract.exe file is)
3. If you don't already have it, copy the 'gtc', 'gtc-kb' and 'gtc-pas' folders from the included modules folder to your attract\modules folder
4. Launch attract mode and assign the 'At-The-Arcade Flex' theme (layout) to your mame emulator.
Pressing 'Tab' will bring the main 'Configure' menu on screen. Then go to 'Displays', choose the display you want to configure by
pressing 'Enter' and choose a layout from the 'Layout' option (navigate the layouts list with up/down arrows or joystick).

Attract Mode should now know what emulator to use, where to find the art it needs and what theme to use.

Make sure to check out all the layout options as you can heavily customize it. 
To do so, Press _Tab->Displays->Layout Options_ or assign a hotkey by pressing _Tab->Controls->Layout Options->Add Input_

## Music
You can add mp3 music files to the layout's `music` folder that is within the `At-The-Arcade Flex` folder. 
* The layout will play them each time it loads when `Enable ambience sound` option is set to `Music`.
* You can define a path to an external music folder and assign keys to play next or previous song through the layout options menu.

## Performance
If performance on low end systems such as the Raspberry Pi is slow, you can improve it by disabling shader related options in the layout options menu:
- Set `Enable CRT screen glow` to `No` 
- Set `Enable lighted marquee effect` to `No`
- Set `Select background image` to `Retro`
- Set `Enable wheel background` to `No`
- Try a landscape/horizontal screen orientation (not portrait/vertical)
